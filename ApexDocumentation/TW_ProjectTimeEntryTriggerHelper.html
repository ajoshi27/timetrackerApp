<html><head><script type='text/javascript' src='jquery-1.11.1.js'></script><script type='text/javascript' src='CollapsibleList.js'></script><script type='text/javascript' src='ApexDoc.js'></script><link rel='stylesheet' type='text/css' href='ApexDoc.css' /> </head><body><div class='topsection'><table><tr><td><img src='apex_doc_logo.png' style='border:1px solid #000;'/></td><td><h2 style='margin:0px;'>Project Demo</h2>Check out the gitHub project at:<br/><a href='http://github.com/SalesforceFoundation/ApexDoc'>http://github.com/SalesforceFoundation/ApexDoc</a><br/></td></tr></table></div><table width='100%'><tr><td colspan='2' style='text-align: center;' >Show: <input type='checkbox' checked='checked' id='cbxglobal' onclick='ToggleScope("global", this.checked );'>global</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxpublic' onclick='ToggleScope("public", this.checked );'>public</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxwebService' onclick='ToggleScope("webService", this.checked );'>webService</input>&nbsp;&nbsp;</td></tr><tr style='vertical-align:top;' ><td width='20%' vertical-align='top' ><div class='sidebar'><div class='navbar'><nav role='navigation'><ul id='mynavbar'><li id='idMenuindex'><a href='.' onclick="gotomenu('index.html', event);return false;" class='nav-item'>Home</a></li><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Miscellaneous<span class='caret'></span></a></li><ul><li class='subitem classscopeglobal' id='idMenuTW_GenerateTimesheetBatch'><a href='.' onclick="gotomenu('TW_GenerateTimesheetBatch.html', event);return false;" class='nav-item sub-nav-item scopeglobal'>TW_GenerateTimesheetBatch</a></li><li class='subitem classscopepublic' id='idMenuTW_GenerateTimesheetBatchHelper'><a href='.' onclick="gotomenu('TW_GenerateTimesheetBatchHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_GenerateTimesheetBatchHelper</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectMemberTriggerHandler'><a href='.' onclick="gotomenu('TW_ProjectMemberTriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectMemberTriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectMemberTriggerHelper'><a href='.' onclick="gotomenu('TW_ProjectMemberTriggerHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectMemberTriggerHelper</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTaskTriggerHandler'><a href='.' onclick="gotomenu('TW_ProjectTaskTriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTaskTriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTaskTriggerHelper'><a href='.' onclick="gotomenu('TW_ProjectTaskTriggerHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTaskTriggerHelper</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTimeEntryTriggerHandler'><a href='.' onclick="gotomenu('TW_ProjectTimeEntryTriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTimeEntryTriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTimeEntryTriggerHelper'><a href='.' onclick="gotomenu('TW_ProjectTimeEntryTriggerHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTimeEntryTriggerHelper</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTimesheetTriggerHandler'><a href='.' onclick="gotomenu('TW_ProjectTimesheetTriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTimesheetTriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTimesheetTriggerHelper'><a href='.' onclick="gotomenu('TW_ProjectTimesheetTriggerHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTimesheetTriggerHelper</a></li><li class='subitem classscopeglobal' id='idMenuTW_ScheduleGenerateTimesheetBatch'><a href='.' onclick="gotomenu('TW_ScheduleGenerateTimesheetBatch.html', event);return false;" class='nav-item sub-nav-item scopeglobal'>TW_ScheduleGenerateTimesheetBatch</a></li><li class='subitem classscopepublic' id='idMenuTW_StopwatchController'><a href='.' onclick="gotomenu('TW_StopwatchController.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_StopwatchController</a></li><li class='subitem classscopepublic' id='idMenuTW_StopwatchUtil'><a href='.' onclick="gotomenu('TW_StopwatchUtil.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_StopwatchUtil</a></li><li class='subitem classscopepublic' id='idMenuTW_TestFactory'><a href='.' onclick="gotomenu('TW_TestFactory.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_TestFactory</a></li><li class='subitem classscopepublic' id='idMenuTW_TriggerFactory'><a href='.' onclick="gotomenu('TW_TriggerFactory.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_TriggerFactory</a></li><li class='subitem classscopepublic' id='idMenuTW_TriggerInterface'><a href='.' onclick="gotomenu('TW_TriggerInterface.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_TriggerInterface</a></li></ul></ul></nav></div></div></div></td><td class='contentTD'><h2 class='section-title'><a target='_blank' class='hostedSourceLink' href='TW_ProjectTimeEntryTriggerHelper.cls#L11'>TW_ProjectTimeEntryTriggerHelper</a></h2><div class='classSignature'><a target='_blank' class='hostedSourceLink' href='TW_ProjectTimeEntryTriggerHelper.cls#L11'>public class TW_ProjectTimeEntryTriggerHelper</a></div><div class='classDetails'>It contains the helper and utility methods for TimeWatch__Project_Time_Entry__c  object trigger.All This method will be called from TW_ProjectTimeEntryTriggerHandler.class. It has methods to calculate the invoice amount from total time spent, share time entry record with project manager and insert project time entry history record whenever user start and stop the timer on tasks record.<br/><br/>Amitkumar Joshi<br/>06/16/2017</div><p/><h2 class='subsection-title'>Methods</h2><div class='subsection-container'> <ul class='methodTOC'><li class='methodscopepublic' ><a class='methodTOCEntry' href='#calculateTimeSpentNInvoiceAmt'>calculateTimeSpentNInvoiceAmt</a><div class='methodTOCDescription'>Calculate the total time spent in hours from milliseconds and invoice amont (time spent * hourly rate) it will iterate over each time entry record and calculate the total ttime spent and invoice amount for each entry. This method will be called from TimeWatch__Project_Time_Entry__c trigger, whenever new time entry is added or updated.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#insertProjectTimeEntryHistory'>insertProjectTimeEntryHistory</a><div class='methodTOCDescription'>Insert TimeWatch__Project_Time_Entry_History__c record whenever TimeWatch__Project_Time_Entry__c record is added or updated. This method will be called from TimeWatch__Project_Time_Entry__c trigger, whenever new time entry is added or updated. it will copy time start date, time stop date, invoice amount, timespent details from TimeWatch__Project_Time_Entry__c to TimeWatch__Project_Time_Entry_History__c record and insert it. These time history records will be useful when we have to show the daywise breakup of time spent on project by the user.</div></li><li class='methodscopepublic' ><a class='methodTOCEntry' href='#shareRecordsWithProjectMember'>shareRecordsWithProjectMember</a><div class='methodTOCDescription'>Share these time entry records with project manager. Project manager should have an access to all time entry records of all users related to the project. Whenever new time entry record gets created, share with project manager and give edit access. Apex managed sharing is used to share the record.This method will be called from TimeWatch__Project_Time_Entry__c after insert trigger, whenever new time entry is added.</div></li></ul><div class='methodscopepublic' ><h2 class='methodHeader'><a id='calculateTimeSpentNInvoiceAmt'/>calculateTimeSpentNInvoiceAmt</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='TW_ProjectTimeEntryTriggerHelper.cls#L20'>public static void calculateTimeSpentNInvoiceAmt(List&#60;TimeWatch__Project_Time_Entry__c&#62; timeEntryList, Map&#60;Id, TimeWatch__Project_Time_Entry__c&#62; timeEntryOldMap)</a></div><div class='methodDescription'>Calculate the total time spent in hours from milliseconds and invoice amont (time spent * hourly rate) it will iterate over each time entry record and calculate the total ttime spent and invoice amount for each entry. This method will be called from TimeWatch__Project_Time_Entry__c trigger, whenever new time entry is added or updated.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>timeEntryList</div><div class='paramDescription'>List of TimeWatch__Project_Time_Entry__c records.</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>void</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='insertProjectTimeEntryHistory'/>insertProjectTimeEntryHistory</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='TW_ProjectTimeEntryTriggerHelper.cls#L72'>public static void insertProjectTimeEntryHistory(List&#60;TimeWatch__Project_Time_Entry__c&#62; timeEntryList, Map&#60;Id, TimeWatch__Project_Time_Entry__c&#62; timeEntryOldMap)</a></div><div class='methodDescription'>Insert TimeWatch__Project_Time_Entry_History__c record whenever TimeWatch__Project_Time_Entry__c record is added or updated. This method will be called from TimeWatch__Project_Time_Entry__c trigger, whenever new time entry is added or updated. it will copy time start date, time stop date, invoice amount, timespent details from TimeWatch__Project_Time_Entry__c to TimeWatch__Project_Time_Entry_History__c record and insert it. These time history records will be useful when we have to show the daywise breakup of time spent on project by the user.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>timeEntryList</div><div class='paramDescription'>List of TimeWatch__Project_Time_Entry__c records.</div><div class='paramName'>timeEntryOldMap</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>void</div></div><div class='methodscopepublic' ><h2 class='methodHeader'><a id='shareRecordsWithProjectMember'/>shareRecordsWithProjectMember</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='TW_ProjectTimeEntryTriggerHelper.cls#L227'>public static void shareRecordsWithProjectMember(List&#60;TimeWatch__Project_Time_Entry__c&#62; timeEntryList)</a></div><div class='methodDescription'>Share these time entry records with project manager. Project manager should have an access to all time entry records of all users related to the project. Whenever new time entry record gets created, share with project manager and give edit access. Apex managed sharing is used to share the record.This method will be called from TimeWatch__Project_Time_Entry__c after insert trigger, whenever new time entry is added.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>timeEntry</div><div class='paramDescription'>existing TimeWatch__Project_Time_Entry__c record.</div><div class='paramName'>projectTimeEntryHistory</div><div class='paramDescription'>An existing or new TimeWatch__Project_Time_Entry_History__c record.</div><div class='paramName'>projectIdToTeamMemberMap</div><div class='paramDescription'> A map of project id to it's project members.</div><div class='paramName'>timeEntryList</div><div class='paramDescription'> List of existing TimeWatch__Project_Time_Entry__c records.</div><div class='paramName'>timeEntryList</div><div class='paramDescription'> List of existing TimeWatch__Project_Time_Entry__c records.</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>void</div></div></div></div></div></div></td></tr></table><hr/><center style='font-size:.8em;'><a href='http://github.com/SalesforceFoundation/ApexDoc' target='_blank'>Powered By ApexDoc</a></center></body></html>