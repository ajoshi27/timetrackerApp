<html><head><script type='text/javascript' src='jquery-1.11.1.js'></script><script type='text/javascript' src='CollapsibleList.js'></script><script type='text/javascript' src='ApexDoc.js'></script><link rel='stylesheet' type='text/css' href='ApexDoc.css' /> </head><body><div class='topsection'><table><tr><td><img src='apex_doc_logo.png' style='border:1px solid #000;'/></td><td><h2 style='margin:0px;'>Project Demo</h2>Check out the gitHub project at:<br/><a href='http://github.com/SalesforceFoundation/ApexDoc'>http://github.com/SalesforceFoundation/ApexDoc</a><br/></td></tr></table></div><table width='100%'><tr><td colspan='2' style='text-align: center;' >Show: <input type='checkbox' checked='checked' id='cbxglobal' onclick='ToggleScope("global", this.checked );'>global</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxpublic' onclick='ToggleScope("public", this.checked );'>public</input>&nbsp;&nbsp;<input type='checkbox' checked='checked' id='cbxwebService' onclick='ToggleScope("webService", this.checked );'>webService</input>&nbsp;&nbsp;</td></tr><tr style='vertical-align:top;' ><td width='20%' vertical-align='top' ><div class='sidebar'><div class='navbar'><nav role='navigation'><ul id='mynavbar'><li id='idMenuindex'><a href='.' onclick="gotomenu('index.html', event);return false;" class='nav-item'>Home</a></li><li class='header' id='idMenunull'><a class='nav-item nav-section-title' href='.' onclick="gotomenu(document.location.href, event);return false;" class='nav-item'>Miscellaneous<span class='caret'></span></a></li><ul><li class='subitem classscopeglobal' id='idMenuTW_GenerateTimesheetBatch'><a href='.' onclick="gotomenu('TW_GenerateTimesheetBatch.html', event);return false;" class='nav-item sub-nav-item scopeglobal'>TW_GenerateTimesheetBatch</a></li><li class='subitem classscopepublic' id='idMenuTW_GenerateTimesheetBatchHelper'><a href='.' onclick="gotomenu('TW_GenerateTimesheetBatchHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_GenerateTimesheetBatchHelper</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectMemberTriggerHandler'><a href='.' onclick="gotomenu('TW_ProjectMemberTriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectMemberTriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectMemberTriggerHelper'><a href='.' onclick="gotomenu('TW_ProjectMemberTriggerHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectMemberTriggerHelper</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTaskTriggerHandler'><a href='.' onclick="gotomenu('TW_ProjectTaskTriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTaskTriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTaskTriggerHelper'><a href='.' onclick="gotomenu('TW_ProjectTaskTriggerHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTaskTriggerHelper</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTimeEntryTriggerHandler'><a href='.' onclick="gotomenu('TW_ProjectTimeEntryTriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTimeEntryTriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTimeEntryTriggerHelper'><a href='.' onclick="gotomenu('TW_ProjectTimeEntryTriggerHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTimeEntryTriggerHelper</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTimesheetTriggerHandler'><a href='.' onclick="gotomenu('TW_ProjectTimesheetTriggerHandler.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTimesheetTriggerHandler</a></li><li class='subitem classscopepublic' id='idMenuTW_ProjectTimesheetTriggerHelper'><a href='.' onclick="gotomenu('TW_ProjectTimesheetTriggerHelper.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_ProjectTimesheetTriggerHelper</a></li><li class='subitem classscopeglobal' id='idMenuTW_ScheduleGenerateTimesheetBatch'><a href='.' onclick="gotomenu('TW_ScheduleGenerateTimesheetBatch.html', event);return false;" class='nav-item sub-nav-item scopeglobal'>TW_ScheduleGenerateTimesheetBatch</a></li><li class='subitem classscopepublic' id='idMenuTW_StopwatchController'><a href='.' onclick="gotomenu('TW_StopwatchController.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_StopwatchController</a></li><li class='subitem classscopepublic' id='idMenuTW_StopwatchUtil'><a href='.' onclick="gotomenu('TW_StopwatchUtil.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_StopwatchUtil</a></li><li class='subitem classscopepublic' id='idMenuTW_TestFactory'><a href='.' onclick="gotomenu('TW_TestFactory.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_TestFactory</a></li><li class='subitem classscopepublic' id='idMenuTW_TriggerFactory'><a href='.' onclick="gotomenu('TW_TriggerFactory.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_TriggerFactory</a></li><li class='subitem classscopepublic' id='idMenuTW_TriggerInterface'><a href='.' onclick="gotomenu('TW_TriggerInterface.html', event);return false;" class='nav-item sub-nav-item scopepublic'>TW_TriggerInterface</a></li></ul></ul></nav></div></div></div></td><td class='contentTD'><h2 class='section-title'><a target='_blank' class='hostedSourceLink' href='TW_GenerateTimesheetBatch.cls#L10'>TW_GenerateTimesheetBatch</a></h2><div class='classSignature'><a target='_blank' class='hostedSourceLink' href='TW_GenerateTimesheetBatch.cls#L10'>global class TW_GenerateTimesheetBatch implements Database.Batchable&#60;sObject&#62;, Database.Stateful</a></div><div class='classDetails'>A  batch class which will run at scheduled time and generate the timesheets for last week. It will iterate over all time entry history records and create the timesheet for a last week for each user. It will also link newly created timesheet records to a project and time entry records.<br/><br/>Amitkumar Joshi<br/>07/2/2017</div><p/><h2 class='subsection-title'>Properties</h2><div class='subsection-container'> <table class='properties' > <tr class='propertyscopeglobal'><td class='clsPropertyName'>timeEntrySet</td><td><div class='clsPropertyDeclaration'><a target='_blank' class='hostedSourceLink' href='TW_GenerateTimesheetBatch.cls#L19'>global Set&#60;String&#62;  timeEntrySet</a></div><div class='clsPropertyDescription'></div></tr><tr class='propertyscopeglobal'><td class='clsPropertyName'>userToTimeEntryListMap</td><td><div class='clsPropertyDeclaration'><a target='_blank' class='hostedSourceLink' href='TW_GenerateTimesheetBatch.cls#L16'>global Map&#60;String,List&#60;TimeWatch__Project_Time_Entry__c&#62;&#62;  userToTimeEntryListMap</a></div><div class='clsPropertyDescription'></div></tr><tr class='propertyscopeglobal'><td class='clsPropertyName'>userToTimesheetMap</td><td><div class='clsPropertyDeclaration'><a target='_blank' class='hostedSourceLink' href='TW_GenerateTimesheetBatch.cls#L13'>global Map&#60;String, TimeWatch__Project_Timesheet__c&#62; userToTimesheetMap</a></div><div class='clsPropertyDescription'></div></tr></table></div><p/><h2 class='subsection-title'>Methods</h2><div class='subsection-container'> <ul class='methodTOC'><li class='methodscopeglobal' ><a class='methodTOCEntry' href='#execute'>execute</a><div class='methodTOCDescription'>Execute method of a batch. When this batch class runs, this method will be executed in batches of records.it will process 200 records per batch. if there are 400 records, it will execute twice. it will process all time entry history records and populate the timeshee records for each user.</div></li><li class='methodscopeglobal' ><a class='methodTOCEntry' href='#finish'>finish</a><div class='methodTOCDescription'>finish method of a batch. When this batch class runs, this method will be executed in the end. This method will insert the TimeWatch__Project_Timesheet__c records which have been populated in executed method.</div></li><li class='methodscopeglobal' ><a class='methodTOCEntry' href='#start'>start</a><div class='methodTOCDescription'>Start method of a batch. When this batch class runs, this method will be executed first. This method will fetch all time entry history records for last 7 days.</div></li></ul><div class='methodscopeglobal' ><h2 class='methodHeader'><a id='execute'/>execute</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='TW_GenerateTimesheetBatch.cls#L59'>global void execute(Database.BatchableContext BC, List&#60;TimeWatch__Project_Time_Entry_History__c&#62; scope)</a></div><div class='methodDescription'>Execute method of a batch. When this batch class runs, this method will be executed in batches of records.it will process 200 records per batch. if there are 400 records, it will execute twice. it will process all time entry history records and populate the timeshee records for each user.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>BC</div><div class='paramDescription'>Database.BatchableContext</div><div class='paramName'>scope</div><div class='paramDescription'>List of TimeWatch__Project_Time_Entry_History__c records which need to be processed to generate the timesheet for each user.</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>void</div></div><div class='methodscopeglobal' ><h2 class='methodHeader'><a id='finish'/>finish</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='TW_GenerateTimesheetBatch.cls#L72'>global void finish(Database.BatchableContext BC)</a></div><div class='methodDescription'>finish method of a batch. When this batch class runs, this method will be executed in the end. This method will insert the TimeWatch__Project_Timesheet__c records which have been populated in executed method.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>BC</div><div class='paramDescription'>Database.BatchableContext</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>void</div></div><div class='methodscopeglobal' ><h2 class='methodHeader'><a id='start'/>start</h2><div class='methodSignature'><a target='_blank' class='hostedSourceLink' href='TW_GenerateTimesheetBatch.cls#L28'>global Database.QueryLocator start(Database.BatchableContext BC)</a></div><div class='methodDescription'>Start method of a batch. When this batch class runs, this method will be executed first. This method will fetch all time entry history records for last 7 days.</div><div class='methodSubTitle'>Parameters</div><div class='paramName'>BC</div><div class='paramDescription'>Database.BatchableContext</div><div class='methodSubTitle'>Return Value</div><div class='methodReturns'>void</div></div></div></div></div></div></td></tr></table><hr/><center style='font-size:.8em;'><a href='http://github.com/SalesforceFoundation/ApexDoc' target='_blank'>Powered By ApexDoc</a></center></body></html>